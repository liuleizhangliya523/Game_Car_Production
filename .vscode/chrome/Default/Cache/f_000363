{"version":3,"sources":["game.js"],"names":["LEFT_PAY_DAYS","game","cc","Class","extends","Component","properties","lb_normal_oli","default","type","Label","lb_lock_oli","btn_pay_case1","Button","btn_pay_case2","btn_pay_case3","btn_arr","Node","music_bgm","AudioSource","music_btn","music_ani_1","music_ani_2","music_last_target","progressBar_timer","ProgressBar","lb_left_time","layout_result","Layout","spriteFrame_car1","SpriteFrame","spriteFrame_car2","spriteFrame_car3","spriteFrame_car4","spriteFrame_car5","spriteFrame_car6","spriteFrame_car7","spriteFrame_car8","spriteFrame_car9","spriteFrame_car10","spriteFrame_car11","spriteFrame_car12","spriteFrame_car13","sp_head_image_list","Sprite","node_moreBtnPanel","rich_text_bounds","RichText","ctor","n_left_timer","n_progress_var","b_start_update_progress","car_image_spf_arr","isHelpPrefabLoading","intervNumber","tmpOliNum","onLoad","startAni","carKey","isWin","self","play","image","find","node","effect","richText","_particle","_flag","_flagText","getComponent","string","active","idx","maxdrua","curdrua","callBack","spriteFrame","unschedule","randCarIdx","ConstData","getCarIndexByKey","name","getCarNameByIndex","randType","randOperate","operate","wholeString","action","repeatForever","rotateBy","runAction","sequence","delayTime","callFunc","runOliLabelAni","GlobalGameData","clearOthersAmountData","clearBuyData","Tips_2","show","children","key","hasOwnProperty","car_btn_scrip","getCarKeyByIndex","playArrowAnim","log","showUI","used_oli_var","used_locked_oli_var","sendQureyStateRequest","sendGetBoundsInfo","schedule","timer","delta","sec","Math","ceil","randArr","doOthersPayAction","n","isRunOthersPay","Tools","getRandArray","console","startAllOthersPay","timerController","Tips","off","scheduleOnce","postData","openID","notInvestPostData","isInvest","amount_of_cars","sendData","sendHttpRequest","err","resp","newUCoin","locked_oli_var","winCar","winNum","Number","onDropBtnClicked","updateLeftTimeLable","isEnable","playBtnSound","toString","updateOliLabel","data","oli","locked_oli","oliLabelAniScheduler","round","repeat","scaleTo","updatePayCaseBtn","btn_pay_array","element","PAY_CASE","label","color","hexToColor","initData","initUI","oli_var","push","arr","length","i","doPayOperation","stopAllOthersPay","clearMyAmountData","amount_of_cars_others","updateAmount","tip","nextTime","gameState","isOpen","updateHeadImage","headImgUrl","progress","scheduleShow","start","loop","onPayCaseBtnClicked","event","customEventData","info","PAY_CASE_DATA","onOtherBtnClicked","prefabPath","director","loadScene","CanvasNode","onResourceLoaded","errorMessage","loadedResource","Prefab","helpPrefab","instantiate","parent","loader","loadRes","closeAllPanel","record_layout_node","help_layout","destroy","index","load","url","URL","texture","sp","randIndex","rand","l1url","l2url","r1url","r2url","startLamp","bind","num","sendNum","str","firstName","coinNo","firstContent","decodeURI","secondName","secondContent","w","width","offX","x","moveTo","v2","stopLamp","lampController","update","dt","module","exports"],"mappings":"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","file":"game.js","sourceRoot":"..\\..\\..\\..\\assets\\scrips","sourcesContent":["import ConstData from \"./data/ConstData\";\r\nimport GlobalGameData from \"./data/GlobalGameData\";\r\nimport Tools from \"./tools/Tools\";\r\nconst LEFT_PAY_DAYS = 30000;\r\nvar game = cc.Class({\r\n    extends: cc.Component,\r\n    properties: () => ({\r\n        lb_normal_oli: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        lb_lock_oli: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        btn_pay_case1: {\r\n            default: null,\r\n            type: cc.Button\r\n        },\r\n        btn_pay_case2: {\r\n            default: null,\r\n            type: cc.Button\r\n        },\r\n        btn_pay_case3: {\r\n            default: null,\r\n            type: cc.Button\r\n        },\r\n        btn_arr: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        music_bgm: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        music_btn: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        music_ani_1: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        music_ani_2: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        music_last_target: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        progressBar_timer: {\r\n            type: cc.ProgressBar,\r\n            default: null\r\n        },\r\n        lb_left_time: {\r\n            type: cc.Label,\r\n            default: null\r\n        },\r\n        layout_result: {\r\n            type: cc.Layout,\r\n            default: null\r\n        },\r\n        spriteFrame_car1: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car2: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car3: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car4: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car5: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car6: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car7: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car8: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car9: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car10: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car11: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car12: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        spriteFrame_car13: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n        sp_head_image_list: {\r\n            default: [],\r\n            type: [cc.Sprite]\r\n        },\r\n        node_moreBtnPanel: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        rich_text_bounds: {\r\n            default: null,\r\n            type: cc.RichText\r\n        }\r\n    }),\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    ctor: function () {\r\n        // 声明实例变量并赋默认值\r\n        this.n_left_timer = LEFT_PAY_DAYS / 1000;\r\n        this.n_progress_var = 0;\r\n        this.b_start_update_progress = false;\r\n        this.car_image_spf_arr = [];\r\n        this.isHelpPrefabLoading = false;\r\n        this.intervNumber = 0;\r\n        this.tmpOliNum = 0;\r\n    },\r\n    onLoad() { },\r\n    //模拟流程\r\n    startAni: function (carKey, isWin) {\r\n        let self = this;\r\n        this.music_ani_1.play();\r\n        let image = cc.find(\"image\", this.layout_result.node);\r\n        let effect = cc.find(\"imageEffect\", this.layout_result.node);\r\n        let richText = cc.find(\"desc\", this.layout_result.node);\r\n        let _particle = cc.find(\"ptc\", this.layout_result.node);\r\n        let _flag = cc.find(\"flag\", this.layout_result.node);\r\n        let _flagText = cc.find(\"flag/flag_text\", this.layout_result.node);\r\n        richText.getComponent(cc.RichText).string = \"请等待投资结果\";\r\n        effect.active = false;\r\n        _particle.active = false;\r\n        _flag.active = false;\r\n        let idx = 0;\r\n        let maxdrua = 2.4;\r\n        let curdrua = 0;\r\n        let callBack = function () {\r\n            image.getComponent(cc.Sprite).spriteFrame = self.car_image_spf_arr[idx];\r\n            idx++;\r\n            curdrua += 0.1;\r\n            if (idx > 12) {\r\n                idx = 0;\r\n            }\r\n            if (curdrua >= maxdrua) {\r\n                self.layout_result.unschedule(callBack);\r\n                self.music_ani_2.play();\r\n\r\n\r\n                let randCarIdx = ConstData.getCarIndexByKey(carKey);\r\n                image.getComponent(cc.Sprite).spriteFrame = self.car_image_spf_arr[randCarIdx];\r\n                let name = ConstData.getCarNameByIndex(randCarIdx);\r\n\r\n                let randType = randCarIdx > 5 ? 14 : 13;\r\n                let randOperate;\r\n                if (randCarIdx <= 5) {\r\n                    if (randCarIdx <= 2) {\r\n                        //手动档\r\n                        randOperate = 15;\r\n                    }\r\n                    else {\r\n                        //自动挡\r\n                        randOperate = 16;\r\n                    }\r\n                }\r\n                else {\r\n                    if (randCarIdx <= 8) {\r\n                        //手动档\r\n                        randOperate = 17;\r\n                    }\r\n                    else {\r\n                        //自动挡\r\n                        randOperate = 18;\r\n                    }\r\n                }\r\n\r\n                let type = ConstData.getCarNameByIndex(randType);\r\n                let operate = ConstData.getCarNameByIndex(randOperate);\r\n                let wholeString = name + \"（\" + operate + type + \"）\";\r\n                if (randCarIdx == 12) {\r\n                    wholeString = name;\r\n                }\r\n                if (isWin) {\r\n                    richText.getComponent(cc.RichText).string = \"恭喜您\\n投资的车型大卖\";\r\n                }\r\n                else {\r\n                    richText.getComponent(cc.RichText).string = \"很遗憾\\n您本轮没有投资大卖车辆\";\r\n                }\r\n                _flagText.getComponent(cc.RichText).string = \"<outline color=#b12315 width=2><color=#ffed88><b>\" + wholeString + \"</b></color></outline>\";\r\n                effect.active = true;\r\n                _particle.active = true;\r\n                _flag.active = true;\r\n                let action = cc.repeatForever(cc.rotateBy(0.2, 10, 10));\r\n                effect.runAction(action);\r\n                // self.updateOliLabel({\r\n                //     oli: GlobalGameData.oli_var,\r\n                //     locked_oli: GlobalGameData.locked_oli_var\r\n                // });\r\n                self.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(function () {\r\n                    if (isWin) {\r\n                        self.runOliLabelAni();\r\n                    }\r\n                    //清空自己投资和他人投资\r\n                    GlobalGameData.clearOthersAmountData();\r\n                    self.clearBuyData();\r\n                    Tips_2.show(\"准备投资\", \"请选择您的投资项目\", 1, true);\r\n                    self.layout_result.node.active = false;\r\n\r\n                    let node = self.btn_arr.children;\r\n\r\n                    for (const key in node) {\r\n                        if (node.hasOwnProperty(key)) {\r\n                            var car_btn_scrip = node[key].getComponent(\"car_btn\");\r\n                            var idx = node[key].name;\r\n                            if (idx == ConstData.getCarKeyByIndex(randCarIdx)) {\r\n                                self.music_last_target.play();\r\n                                car_btn_scrip.playArrowAnim(function () {\r\n                                    cc.log(\"投标动画播完了\");\r\n                                    Tips_2.showUI(1.5, function () {\r\n                                        cc.log(\"走下一轮逻辑\");\r\n                                        GlobalGameData.used_oli_var = 0;//已使用油滴数\r\n                                        GlobalGameData.used_locked_oli_var = 0;//已使用绑定油滴数\r\n                                        self.sendQureyStateRequest();\r\n                                        self.sendGetBoundsInfo();\r\n                                        // self.timerController(true);\r\n                                    });\r\n                                });\r\n                                continue;\r\n                            }\r\n                            else if (idx == ConstData.getCarKeyByIndex(randType) && (randCarIdx != 12)) {\r\n                                car_btn_scrip.playArrowAnim(null);\r\n                                continue;\r\n                            }\r\n                            else if (idx == ConstData.getCarKeyByIndex(randOperate) && (randCarIdx != 12)) {\r\n                                car_btn_scrip.playArrowAnim(null);\r\n                                continue;\r\n                            }\r\n                        }\r\n                    }\r\n                }, self)));\r\n            }\r\n        };\r\n        this.layout_result.schedule(callBack, 0.1);\r\n    },\r\n    timer: function (delta) {\r\n        this.n_left_timer -= delta;\r\n        let sec = Math.ceil(this.n_left_timer);\r\n        let randArr;\r\n        let self = this;\r\n        function doOthersPayAction(n) {\r\n            if (self.isRunOthersPay[n]) {\r\n                randArr = Tools.getRandArray(0, 18, 7);\r\n                console.log(\"模拟别人下注 \" + n);\r\n                self.startAllOthersPay(randArr);\r\n                self.isRunOthersPay[n] = false;\r\n            }\r\n        };\r\n        switch (sec) {\r\n            case 24:\r\n                doOthersPayAction(3);\r\n                break;\r\n            case 18:\r\n                doOthersPayAction(2);\r\n                break;\r\n            case 12:\r\n                doOthersPayAction(1);\r\n                break;\r\n            case 6:\r\n                doOthersPayAction(0);\r\n                break;\r\n        }\r\n        if (this.n_left_timer <= 0) {\r\n            this.n_left_timer = 0;\r\n            this.timerController(false);\r\n            //删除所有弹窗\r\n            // this.closeAllPanel();\r\n            Tips.off();\r\n            Tips_2.show(\"时间已到\", \"请等待投资结果...\", 0);\r\n            this.scheduleOnce(function () {\r\n                let postData = \"openId=\" + GlobalGameData.openID;\r\n                let notInvestPostData = \"openId=\" + GlobalGameData.openID;\r\n                let isInvest = false;\r\n                for (const key in GlobalGameData.amount_of_cars) {\r\n                    if (GlobalGameData.amount_of_cars.hasOwnProperty(key)) {\r\n                        postData += \"&\" + key + \"=\" + GlobalGameData.amount_of_cars[key];\r\n                        if (GlobalGameData.amount_of_cars[key] != 0) {\r\n                            isInvest = true;\r\n                        }\r\n                    }\r\n                }\r\n                let sendData = \"\";\r\n                if (isInvest) {\r\n                    sendData = postData += \"&isInvest=1\";\r\n                }\r\n                else {\r\n                    sendData = notInvestPostData += \"&isInvest=0\";\r\n                }\r\n                console.log(sendData);\r\n                var self = this;\r\n                Tools.sendHttpRequest(\"POST\", \"invest/dealInvest\", sendData, function (err, resp) {\r\n                    if (!err) {\r\n                        Tips_2.off();\r\n                        self.layout_result.node.active = true;\r\n                        let isWin = resp.newUCoin > GlobalGameData.locked_oli_var;\r\n                        self.startAni(resp.winCar, isWin);\r\n                        if (isWin) {\r\n                            let winNum = resp.newUCoin - GlobalGameData.locked_oli_var;\r\n                            console.log(\"赢了\" + winNum + \"油\");\r\n                            self.intervNumber = winNum / 20;\r\n                            self.tmpOliNum = Number(self.lb_lock_oli.string);\r\n                        }\r\n                        GlobalGameData.locked_oli_var = Number(resp.newUCoin);\r\n                    }\r\n                    else {\r\n                        cc.log(\"http request error: \" + err);\r\n                        self.onDropBtnClicked();\r\n                        //清空自己投资和他人投资\r\n                        GlobalGameData.clearOthersAmountData();\r\n                        self.sendQureyStateRequest();\r\n                    }\r\n                });\r\n            }, 1);\r\n        }\r\n        this.updateLeftTimeLable();\r\n    },\r\n    timerController: function (isEnable) {\r\n        if (isEnable) {\r\n            this.n_left_timer = GlobalGameData.timer / 1000;\r\n            this.n_progress_var = LEFT_PAY_DAYS - GlobalGameData.timer;\r\n            this.isRunOthersPay = [true, true, true, true];\r\n            this.updateLeftTimeLable();\r\n            this.schedule(this.timer, 0);\r\n            // this.startAllOthersPay();\r\n        }\r\n        else {\r\n            this.isRunOthersPay = [false, false, false, false];\r\n            this.unschedule(this.timer);\r\n        }\r\n        this.b_start_update_progress = isEnable;\r\n    },\r\n    playBtnSound: function () {\r\n        this.music_btn.play();\r\n    },\r\n    updateLeftTimeLable: function () {\r\n        this.lb_left_time.string = Math.ceil(this.n_left_timer).toString();\r\n    },\r\n    updateOliLabel: function (data) {\r\n        if (this != null) {\r\n            this.lb_normal_oli.string = data.oli.toString();\r\n            this.lb_lock_oli.string = data.locked_oli.toString();\r\n        }\r\n    },\r\n    oliLabelAniScheduler() {\r\n        // let num = Number(this.lb_normal_oli.string);\r\n        this.tmpOliNum += this.intervNumber;\r\n        // num += this.intervNumber;\r\n        this.lb_lock_oli.string = Math.round(this.tmpOliNum).toString();\r\n    },\r\n    runOliLabelAni() {\r\n        this.schedule(this.oliLabelAniScheduler, 0.1, 19);\r\n        let action = cc.repeat(cc.sequence(\r\n            cc.scaleTo(0.2, 1.05),\r\n            cc.scaleTo(0.3, 1),\r\n            cc.scaleTo(0.2, 1.05),\r\n            cc.scaleTo(0.3, 1)\r\n        ), 2);\r\n        this.lb_lock_oli.node.runAction(action);\r\n    },\r\n    updatePayCaseBtn: function () {\r\n        for (const key in this.btn_pay_array) {\r\n            if (this.btn_pay_array.hasOwnProperty(key)) {\r\n                const element = this.btn_pay_array[key];\r\n                if (Number(key) === ConstData.PAY_CASE) {\r\n                    let label = cc.find(\"label_cost\", element.node);\r\n                    element.node.color = cc.hexToColor(\"#FFFFFF\");\r\n                    label.color = cc.hexToColor(\"#FFFFFF\");\r\n                }\r\n                else {\r\n                    let label = cc.find(\"label_cost\", element.node);\r\n                    element.node.color = cc.hexToColor(\"#8C8282\");\r\n                    label.color = cc.hexToColor(\"#8C8282\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    initData: function () {\r\n        ConstData.PAY_CASE = 0;\r\n        // GlobalGameData.oli_var = 50000;\r\n        // GlobalGameData.locked_oli_var = 50000;\r\n        this.clearBuyData();\r\n    },\r\n    initUI: function () {\r\n        this.updateOliLabel({\r\n            oli: GlobalGameData.oli_var,\r\n            locked_oli: GlobalGameData.locked_oli_var\r\n        });\r\n        this.updatePayCaseBtn();\r\n        this.updateLeftTimeLable();\r\n        this.lb_left_time.string = \"??\";\r\n        this.car_image_spf_arr.push(this.spriteFrame_car1);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car2);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car3);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car4);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car5);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car6);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car7);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car8);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car9);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car10);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car11);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car12);\r\n        this.car_image_spf_arr.push(this.spriteFrame_car13);\r\n    },\r\n    //开启模拟他人下注\r\n    startAllOthersPay: function (arr) {\r\n        let node = this.btn_arr.children;\r\n        // for (const key in node) {\r\n        //     if (node.hasOwnProperty(key)) {\r\n        //         var car_btn_scrip = node[key].getComponent(\"car_btn\");\r\n        //         car_btn_scrip.setAI_TimerEnable(true);\r\n        //     }\r\n        // }\r\n        for (let idx = 0; idx < arr.length; idx++) {\r\n            const i = arr[idx];\r\n            // let key = ConstData.getCarKeyByIndex(element);\r\n            let car_btn_scrip = node[i].getComponent(\"car_btn\");\r\n            car_btn_scrip.doPayOperation();\r\n        }\r\n    },\r\n    //停用模拟他人下注\r\n    stopAllOthersPay: function () {\r\n        // let node = this.btn_arr.children;\r\n        // for (const key in node) {\r\n        //     if (node.hasOwnProperty(key)) {\r\n        //         var car_btn_scrip = node[key].getComponent(\"car_btn\");\r\n        //         car_btn_scrip.setAI_TimerEnable(false);\r\n        //     }\r\n        // }\r\n    },\r\n    //清空投注数据\r\n    clearBuyData: function () {\r\n        GlobalGameData.clearMyAmountData();\r\n        let node = this.btn_arr.children;\r\n\r\n        for (const key in node) {\r\n            if (node.hasOwnProperty(key)) {\r\n                var car_btn_scrip = node[key].getComponent(\"car_btn\");\r\n                var idx = node[key].name;\r\n                if (GlobalGameData.amount_of_cars_others[idx] != 0) {\r\n                    car_btn_scrip.updateAmount(\"0\", null);\r\n                    continue;\r\n                }\r\n                let tip = cc.find(\"node_bets\", node[key]);\r\n                tip.active = false;\r\n            }\r\n        }\r\n    },\r\n    sendQureyStateRequest() {\r\n        var postData = \"openId=\" + GlobalGameData.openID;\r\n        var self = this;\r\n        Tools.sendHttpRequest(\"POST\", \"game/findGameAndUser\", postData, function (err, resp) {\r\n            if (!err) {\r\n                Tips_2.off();\r\n                GlobalGameData.timer = resp.nextTime;\r\n                GlobalGameData.gameState = resp.isOpen === \"yes\" ? 0 : 1;\r\n                if (GlobalGameData.gameState == 0) {;\r\n                    self.updateHeadImage(GlobalGameData.headImgUrl);\r\n                    self.timerController(true);\r\n                    // self.startLamp(resp);\r\n                }\r\n                else {\r\n                    self.timerController(false);\r\n                    self.lb_left_time.string = \"??\";\r\n                    self.progressBar_timer.progress = 1;\r\n                    Tips_2.scheduleShow(\"正在结算\", \"上轮投资结算中 请稍后...\", 0, GlobalGameData.timer, function () {\r\n                        self.sendQureyStateRequest();\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                cc.log(\"http request error: \" + err);\r\n            }\r\n        });\r\n    },\r\n    start() {\r\n        this.music_bgm.loop = true;\r\n        this.music_bgm.play();\r\n        this.btn_pay_array = [];\r\n        this.btn_pay_array.push(this.btn_pay_case1);\r\n        this.btn_pay_array.push(this.btn_pay_case2);\r\n        this.btn_pay_array.push(this.btn_pay_case3);\r\n        this.initData();\r\n        this.initUI();\r\n        this.sendQureyStateRequest();\r\n        // this.runOliLabelAni();\r\n    },\r\n    //按钮监听\r\n    onPayCaseBtnClicked: function (event, customEventData) {\r\n        this.playBtnSound();\r\n        switch (customEventData) {\r\n            case \"1\":\r\n                ConstData.PAY_CASE = 0;\r\n                break;\r\n            case \"2\":\r\n                ConstData.PAY_CASE = 1;\r\n                break;\r\n            case \"3\":\r\n                ConstData.PAY_CASE = 2;\r\n                break;\r\n        }\r\n        cc.info(\"当前选中档位：\" + ConstData.PAY_CASE_DATA[ConstData.PAY_CASE]);\r\n        this.updatePayCaseBtn()\r\n    },\r\n    onDropBtnClicked: function (event, customEventData) {\r\n        cc.info(\"撤资按钮\");\r\n        this.playBtnSound();\r\n        this.clearBuyData();\r\n        GlobalGameData.oli_var += GlobalGameData.used_oli_var;\r\n        GlobalGameData.locked_oli_var += GlobalGameData.used_locked_oli_var;\r\n        GlobalGameData.used_oli_var = GlobalGameData.used_locked_oli_var = 0;\r\n        this.updateOliLabel({\r\n            oli: GlobalGameData.oli_var,\r\n            locked_oli: GlobalGameData.locked_oli_var\r\n        });\r\n    },\r\n    onOtherBtnClicked: function (event, customEventData) {\r\n        this.playBtnSound();\r\n        let prefabPath = \"\";\r\n        console.log(\"customEventData : \" + customEventData);\r\n        switch (customEventData) {\r\n            case \"help\":\r\n                cc.info(\"帮助按钮\");\r\n                // prefabPath = \"help_layout\";\r\n                this.onDropBtnClicked();\r\n                cc.director.loadScene(\"help\");\r\n                return;\r\n            case \"record\":\r\n                cc.info(\"走势图按钮\");\r\n                prefabPath = \"record_layout\";\r\n                break;\r\n            case \"activity\":\r\n                this.onDropBtnClicked();\r\n                cc.director.loadScene(\"activity\");\r\n                return;\r\n            case \"more\":\r\n                this.node_moreBtnPanel.active = true;\r\n                return;\r\n            case \"close_more\":\r\n                this.node_moreBtnPanel.active = false;\r\n                return;\r\n            case \"notice\":\r\n                cc.director.loadScene(\"notice\");\r\n                return;\r\n        }\r\n        if (this.isHelpPrefabLoading)\r\n            return;\r\n        let CanvasNode = cc.find(\"Canvas\");\r\n        if (!CanvasNode) {\r\n            cc.log(\"Game scene找不到Canvas\");\r\n            return;\r\n        }\r\n        let self = this;\r\n        let onResourceLoaded = function (errorMessage, loadedResource) {\r\n            if (errorMessage) {\r\n                cc.log(\"加载帮助Prefab失败, 原因:\" + errorMessage);\r\n                return;\r\n            }\r\n            if (!(loadedResource instanceof cc.Prefab)) {\r\n                cc.log(\"加载帮助Prefab失败，此实例不是一个Prefab对象\");\r\n                return;\r\n            }\r\n            let helpPrefab = cc.instantiate(loadedResource);\r\n            helpPrefab.parent = CanvasNode;\r\n            self.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function () {\r\n                self.isHelpPrefabLoading = false;\r\n            }, self)));\r\n        };\r\n        cc.loader.loadRes(prefabPath, onResourceLoaded);\r\n        this.isHelpPrefabLoading = true;\r\n    },\r\n    closeAllPanel() {\r\n        let record_layout_node = cc.find(\"Canvas/record_layout\");\r\n        let help_layout = cc.find(\"Canvas/help_layout\");\r\n        if (record_layout_node != null) {\r\n            record_layout_node.destroy();\r\n        }\r\n        if (help_layout != null) {\r\n            help_layout.destroy();\r\n        }\r\n    },\r\n    //刷新头像\r\n    updateHeadImage: function (headImgUrl) {\r\n        for (let index = 0; index < this.sp_head_image_list.length; index++) {\r\n            const element = this.sp_head_image_list[index];\r\n            switch (index) {\r\n                case 0:\r\n                    {\r\n                        console.log(\"微信头像URL： \", headImgUrl);\r\n                        if (headImgUrl === null) {\r\n                            break;\r\n                        }\r\n                        cc.loader.load({ url: ConstData.URL + \"login/getPic?u=\" + headImgUrl, type: \"jpg\" }, function (err, texture) {\r\n                            if (err) {\r\n                                cc.log(\"图片加载失败\" + err);\r\n                            }\r\n                            else {\r\n                                cc.log(\"图片加载成功\");\r\n                                let sp = new cc.SpriteFrame(texture);\r\n                                element.getComponent(cc.Sprite).spriteFrame = sp;\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    {\r\n                        const randIndex = Tools.rand(1, 128);\r\n                        let l1url = \"https://juxinbox.oss-cn-hangzhou.aliyuncs.com/games/head_\" + randIndex + \".jpg\";\r\n                        console.log(\"左1头像URL： \", l1url);\r\n                        cc.loader.load({ url: ConstData.URL + \"login/getPic?u=\" + l1url, type: \"jpg\" }, function (err, texture) {\r\n                            if (err) {\r\n                                cc.log(\"图片加载失败\" + err);\r\n                            }\r\n                            else {\r\n                                cc.log(\"图片加载成功\");\r\n                                let sp = new cc.SpriteFrame(texture);\r\n                                element.getComponent(cc.Sprite).spriteFrame = sp;\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    {\r\n                        const randIndex = Tools.rand(129, 256);\r\n                        let l2url = \"https://juxinbox.oss-cn-hangzhou.aliyuncs.com/games/head_\" + randIndex + \".jpg\";\r\n                        console.log(\"左2头像URL： \", l2url);\r\n                        cc.loader.load({ url: ConstData.URL + \"login/getPic?u=\" + l2url, type: \"jpg\" }, function (err, texture) {\r\n                            if (err) {\r\n                                cc.log(\"图片加载失败\" + err);\r\n                            }\r\n                            else {\r\n                                cc.log(\"图片加载成功\");\r\n                                let sp = new cc.SpriteFrame(texture);\r\n                                element.getComponent(cc.Sprite).spriteFrame = sp;\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    {\r\n                        const randIndex = Tools.rand(257, 384);\r\n                        let r1url = \"https://juxinbox.oss-cn-hangzhou.aliyuncs.com/games/head_\" + randIndex + \".jpg\";\r\n                        console.log(\"右1头像URL： \", r1url);\r\n                        cc.loader.load({ url: ConstData.URL + \"login/getPic?u=\" + r1url, type: \"jpg\" }, function (err, texture) {\r\n                            if (err) {\r\n                                cc.log(\"图片加载失败\" + err);\r\n                            }\r\n                            else {\r\n                                cc.log(\"图片加载成功\");\r\n                                let sp = new cc.SpriteFrame(texture);\r\n                                element.getComponent(cc.Sprite).spriteFrame = sp;\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                case 4:\r\n                    {\r\n                        const randIndex = Tools.rand(385, 514);\r\n                        let r2url = \"https://juxinbox.oss-cn-hangzhou.aliyuncs.com/games/head_\" + randIndex + \".jpg\";\r\n                        console.log(\"右2头像URL： \", r2url);\r\n                        cc.loader.load({ url: ConstData.URL + \"login/getPic?u=\" + r2url, type: \"jpg\" }, function (err, texture) {\r\n                            if (err) {\r\n                                cc.log(\"图片加载失败\" + err);\r\n                            }\r\n                            else {\r\n                                cc.log(\"图片加载成功\");\r\n                                let sp = new cc.SpriteFrame(texture);\r\n                                element.getComponent(cc.Sprite).spriteFrame = sp;\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    },\r\n    //跑马灯控制\r\n    sendGetBoundsInfo() {\r\n        Tools.sendHttpRequest(\"POST\", \"game/getMessage\", \"\", function (err, resp) {\r\n            if (!err) {\r\n                this.startLamp(resp)\r\n            }\r\n            else {\r\n                cc.log(\"http request error: \" + err);\r\n            }\r\n        }.bind(this));\r\n    },\r\n    startLamp(resp) {\r\n        let num = resp.sendNum;\r\n        if (typeof num == \"undefined\" || num == \"0\")\r\n            return;\r\n        let str = \"\";\r\n        let name = resp.firstName;\r\n        let coinNo = resp.firstContent;\r\n        str = \"<color=#ffffff>恭喜 \" + decodeURI(name) + \" 获得 </color><color=#ffe329>\" + coinNo + \" U币</color>\";\r\n        if (num == 2) {\r\n            let name = resp.secondName;\r\n            let coinNo = resp.secondContent;\r\n            str += \"        <color=#ffffff>恭喜 \" + decodeURI(name) + \" 获得 </color><color=#ffe329>\" + coinNo + \" U币</color>\";\r\n        }\r\n        // str = \"玩家AA获得了1000U币     玩家bc获得了2000U币\";\r\n        this.rich_text_bounds.string = str;\r\n        let w = this.rich_text_bounds.node.width;\r\n        let offX = -(w);\r\n        this.rich_text_bounds.node.x = 470;\r\n        this.rich_text_bounds.node.runAction(cc.moveTo(15, cc.v2(offX, 0)));\r\n    },\r\n    stopLamp() {\r\n\r\n    },\r\n    lampController() {\r\n\r\n    },\r\n    update(dt) {\r\n        if (this.b_start_update_progress) {\r\n            this.n_progress_var += (dt * 1000);\r\n            this.progressBar_timer.progress = this.n_progress_var / LEFT_PAY_DAYS;\r\n        }\r\n    },\r\n});\r\nmodule.exports = game;"]}