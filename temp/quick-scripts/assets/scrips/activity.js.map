{"version":3,"sources":["activity.js"],"names":["TAB_COLOR","cc","color","Class","extends","Component","properties","lb_btn1","default","type","Label","lb_btn2","sp_head_arr_node1","Sprite","lb_name_arr_node1","lb_oli_arr_node1","sp_head_arr_node2","lb_name_arr_node2","lb_oli_arr_node2","node_1","Node","node_2","lb_getting_data","lb_my_lost","lb_my_win","lb_activity_date","ctor","tabIndex","isGetData","start","updateTab","self","postData","GlobalGameData","openID","Tools","sendHttpRequest","err","resp","lostNickName1","decodeURI","lostHeadImgUrl1","lostAllLost1","string","loadHeadImage","lostNickName2","lostHeadImgUrl2","lostAllLost2","lostNickName3","lostHeadImgUrl3","lostAllLost3","myAllLost","winNickName1","winHeadImgUrl1","winWinMax1","winNickName2","winHeadImgUrl2","winWinMax2","winNickName3","winHeadImgUrl3","winWinMax3","winNickName4","winHeadImgUrl4","winWinMax4","winNickName5","winHeadImgUrl5","winWinMax5","myMaxWin","_activityStatus","isFestival","log","imageUrl","headSprite","loader","load","url","ConstData","URL","texture","sp","SpriteFrame","getComponent","spriteFrame","updateContent","active","node","btnClickedCallBack","event","customEventData","director","loadScene"],"mappings":"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","file":"activity.js","sourceRoot":"..\\..\\..\\..\\assets\\scrips","sourcesContent":["import ConstData from \"./data/ConstData\";\r\nimport GlobalGameData from \"./data/GlobalGameData\";\r\nimport Tools from \"./tools/Tools\";\r\nconst TAB_COLOR =\r\n    [\r\n        cc.color(133, 179, 255, 255),\r\n        cc.color(255, 214, 90, 255)\r\n    ]\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        lb_btn1:\r\n        {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        lb_btn2:\r\n        {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        sp_head_arr_node1:\r\n        {\r\n            default: [],\r\n            type: [cc.Sprite]\r\n        },\r\n        lb_name_arr_node1:\r\n        {\r\n            default: [],\r\n            type: [cc.Label]\r\n        },\r\n        lb_oli_arr_node1:\r\n        {\r\n            default: [],\r\n            type: [cc.Label]\r\n        },\r\n        sp_head_arr_node2:\r\n        {\r\n            default: [],\r\n            type: [cc.Sprite]\r\n        },\r\n        lb_name_arr_node2:\r\n        {\r\n            default: [],\r\n            type: [cc.Label]\r\n        },\r\n        lb_oli_arr_node2:\r\n        {\r\n            default: [],\r\n            type: [cc.Label]\r\n        },\r\n        node_1:\r\n        {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        node_2:\r\n        {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        lb_getting_data:\r\n        {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        lb_my_lost:\r\n        {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        lb_my_win:\r\n        {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        lb_activity_date:\r\n        {\r\n            default: null,\r\n            type: cc.Label\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    ctor: function () {\r\n        this.tabIndex = 0;\r\n        this.isGetData = true;\r\n    },\r\n\r\n    start() {\r\n        this.updateTab();\r\n        var self = this;\r\n        var postData = \"openId=\" + GlobalGameData.openID;\r\n        Tools.sendHttpRequest(\"POST\", \"game/getFestival\", postData, function (err, resp) {\r\n            if (!err) {\r\n                //最阔气（总消耗）\r\n                let lostNickName1 = decodeURI(resp.lostNickName1);\r\n                let lostHeadImgUrl1 = resp.lostHeadImgUrl1;\r\n                let lostAllLost1 = resp.lostAllLost1;\r\n                if (typeof lostNickName1 != \"undefined\" &&\r\n                    typeof lostHeadImgUrl1 != \"undefined\" &&\r\n                    typeof lostAllLost1 != \"undefined\") {\r\n                    self.lb_name_arr_node2[0].string = lostNickName1;\r\n                    self.loadHeadImage(lostHeadImgUrl1, self.sp_head_arr_node2[0]);\r\n                    self.lb_oli_arr_node2[0].string = lostAllLost1 + \"油滴\";\r\n                }\r\n\r\n                let lostNickName2 = decodeURI(resp.lostNickName2);\r\n                let lostHeadImgUrl2 = resp.lostHeadImgUrl2;\r\n                let lostAllLost2 = resp.lostAllLost2;\r\n                if (typeof lostNickName2 != \"undefined\" &&\r\n                    typeof lostHeadImgUrl2 != \"undefined\" &&\r\n                    typeof lostAllLost2 != \"undefined\") {\r\n                    self.lb_name_arr_node2[1].string = lostNickName2;\r\n                    self.loadHeadImage(lostHeadImgUrl2, self.sp_head_arr_node2[1]);\r\n                    self.lb_oli_arr_node2[1].string = lostAllLost2 + \"油滴\";\r\n                }\r\n\r\n                let lostNickName3 = decodeURI(resp.lostNickName3);\r\n                let lostHeadImgUrl3 = resp.lostHeadImgUrl3;\r\n                let lostAllLost3 = resp.lostAllLost3;\r\n                if (typeof lostNickName3 != \"undefined\" &&\r\n                    typeof lostHeadImgUrl3 != \"undefined\" &&\r\n                    typeof lostAllLost3 != \"undefined\") {\r\n                    self.lb_name_arr_node2[2].string = lostNickName3;\r\n                    self.loadHeadImage(lostHeadImgUrl3, self.sp_head_arr_node2[2]);\r\n                    self.lb_oli_arr_node2[2].string = lostAllLost3 + \"油滴\";\r\n                }\r\n\r\n                let myAllLost = resp.myAllLost;\r\n                if (typeof myAllLost != \"undefined\") {\r\n                    self.lb_my_lost.string = myAllLost;\r\n                }\r\n                //最具眼光（赢得最多）\r\n                let winNickName1 = decodeURI(resp.winNickName1);\r\n                let winHeadImgUrl1 = resp.winHeadImgUrl1;\r\n                let winWinMax1 = resp.winWinMax1;\r\n                if (typeof winNickName1 != \"undefined\" &&\r\n                    typeof winHeadImgUrl1 != \"undefined\" &&\r\n                    typeof winWinMax1 != \"undefined\") {\r\n                    self.lb_name_arr_node1[0].string = winNickName1;\r\n                    self.loadHeadImage(winHeadImgUrl1, self.sp_head_arr_node1[0]);\r\n                    self.lb_oli_arr_node1[0].string = winWinMax1 + \"油滴\";\r\n                }\r\n\r\n                let winNickName2 = decodeURI(resp.winNickName2);\r\n                let winHeadImgUrl2 = resp.winHeadImgUrl2;\r\n                let winWinMax2 = resp.winWinMax2;\r\n                if (typeof winNickName2 != \"undefined\" &&\r\n                    typeof winHeadImgUrl2 != \"undefined\" &&\r\n                    typeof winWinMax2 != \"undefined\") {\r\n                    self.lb_name_arr_node1[1].string = winNickName2;\r\n                    self.loadHeadImage(winHeadImgUrl2, self.sp_head_arr_node1[1]);\r\n                    self.lb_oli_arr_node1[1].string = winWinMax2 + \"油滴\";\r\n                }\r\n\r\n                let winNickName3 = decodeURI(resp.winNickName3);\r\n                let winHeadImgUrl3 = resp.winHeadImgUrl3;\r\n                let winWinMax3 = resp.winWinMax3;\r\n                if (typeof winNickName3 != \"undefined\" &&\r\n                    typeof winHeadImgUrl3 != \"undefined\" &&\r\n                    typeof winWinMax3 != \"undefined\") {\r\n                    self.lb_name_arr_node1[2].string = winNickName3;\r\n                    self.loadHeadImage(winHeadImgUrl3, self.sp_head_arr_node1[2]);\r\n                    self.lb_oli_arr_node1[2].string = winWinMax3 + \"油滴\";\r\n                }\r\n\r\n                let winNickName4 = decodeURI(resp.winNickName4);\r\n                let winHeadImgUrl4 = resp.winHeadImgUrl4;\r\n                let winWinMax4 = resp.winWinMax4;\r\n                if (typeof winNickName4 != \"undefined\" &&\r\n                    typeof winHeadImgUrl4 != \"undefined\" &&\r\n                    typeof winWinMax4 != \"undefined\") {\r\n                    self.lb_name_arr_node1[3].string = winNickName4;\r\n                    self.loadHeadImage(winHeadImgUrl4, self.sp_head_arr_node1[3]);\r\n                    self.lb_oli_arr_node1[3].string = winWinMax4 + \"油滴\";\r\n                }\r\n\r\n                let winNickName5 = decodeURI(resp.winNickName5);\r\n                let winHeadImgUrl5 = resp.winHeadImgUrl5;\r\n                let winWinMax5 = resp.winWinMax5;\r\n                if (typeof winNickName5 != \"undefined\" &&\r\n                    typeof winHeadImgUrl5 != \"undefined\" &&\r\n                    typeof winWinMax5 != \"undefined\") {\r\n                    self.lb_name_arr_node1[4].string = winNickName5;\r\n                    self.loadHeadImage(winHeadImgUrl5, self.sp_head_arr_node1[4]);\r\n                    self.lb_oli_arr_node1[4].string = winWinMax5 + \"油滴\";\r\n                }\r\n\r\n                let myMaxWin = resp.myMaxWin;\r\n                if (typeof myMaxWin != \"undefined\") {\r\n                    self.lb_my_win.string = myMaxWin;\r\n                }\r\n\r\n                //活动状态\r\n                let _activityStatus = resp.isFestival;\r\n                (typeof _activityStatus == \"undefined\") || _activityStatus == 0 ?\r\n                    self.lb_activity_date.string = \"本次活动已结束\" :\r\n                    self.lb_activity_date.string = \"活动时间 2018.8.3--8.7\";\r\n                self.updateTab();\r\n            }\r\n            else {\r\n                cc.log(\"http request error: \" + err);\r\n            }\r\n        });\r\n    },\r\n    loadHeadImage(imageUrl, headSprite) {\r\n        cc.loader.load({ url: ConstData.URL + \"login/getPic?u=\" + imageUrl, type: \"jpg\" }, function (err, texture) {\r\n            if (err) {\r\n                cc.log(\"图片加载失败\" + err);\r\n            }\r\n            else {\r\n                cc.log(\"图片加载成功\");\r\n                let sp = new cc.SpriteFrame(texture);\r\n                headSprite.getComponent(cc.Sprite).spriteFrame = sp;\r\n            }\r\n        });\r\n    },\r\n    updateContent() {\r\n        if (!this.isGetData) {\r\n            return;\r\n        }\r\n        switch (this.tabIndex) {\r\n            case 0:\r\n                this.node_1.active = true;\r\n                this.node_2.active = false;\r\n                break;\r\n            case 1:\r\n                this.node_1.active = false;\r\n                this.node_2.active = true;\r\n                break;\r\n        }\r\n    },\r\n    updateTab() {\r\n        this.lb_btn1.node.color = TAB_COLOR[0];\r\n        this.lb_btn2.node.color = TAB_COLOR[0];\r\n        switch (this.tabIndex) {\r\n            case 0:\r\n                this.lb_btn1.node.color = TAB_COLOR[1];\r\n                this.updateContent();\r\n                break;\r\n            case 1:\r\n                this.lb_btn2.node.color = TAB_COLOR[1];\r\n                this.updateContent();\r\n                break;\r\n        }\r\n    },\r\n    btnClickedCallBack(event, customEventData) {\r\n        switch (customEventData) {\r\n            case \"back\":\r\n                cc.director.loadScene(\"game\");\r\n                break;\r\n            case \"tab1\":\r\n                this.tabIndex = 0;\r\n                this.updateTab();\r\n                break;\r\n            case \"tab2\":\r\n                this.tabIndex = 1;\r\n                this.updateTab();\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}